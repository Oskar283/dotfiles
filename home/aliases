alias ll="ls -la --color"
alias ls="ls --color"

alias dfind="find . -iname"

alias tmux_reset="clear && tmux clear-history"


# Deletes all git branches except master
alias delete_git_branches="git for-each-ref --format '%(refname:short)' refs/heads | grep -v master | xargs git branch -D"

alias p3="python3"

alias gen_ctags='~/.vim/configs/universal-ctags/ctags -R -f"tags" --languages=-javascript,sql,css --map-TTCN=+.ttcnpp'

alias vi="vi -u NONE"

alias repo="cd /repo/"

alias em="/snap/bin/emacsclient --tty"

alias src_tmux='tmux new-session -d -s work -c /repo/src \; new-window -c /repo/src \; new-window -c /repo/src2 \; new-window -c /repo/src2 \; new-window -c ~ \; attach'
alias format_src='./bazel.py run cppformat'


# Post processing needed according to guide. Thus an ugly function
compile_all() {
    target="$1"
    ./bazel.py run compile_commands -- --absolute_external --skip_failed_targets -t "$target" &&
    sed -i "s#$HOME/\.cache/bazel/_bazel[^/]*/[^/]*/execroot/_main/\?\(\s\|\"\)#$(git rev-parse --show-toplevel)\1#g" \
        "$(git rev-parse --show-toplevel)/compile_commands.json"
}

